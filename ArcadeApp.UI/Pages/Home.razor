@page "/"
@inject AuthState AuthState
@inject NavigationManager Nav

<h3>Start</h3>

@if (!AuthState.IsAuthenticated)
{
    <p>Bitte zuerst einloggen.</p>
    <button @onclick="GoToLogin">Zum Login</button>
}
else
{
    <p>Willkommen, @AuthState.CurrentUser!.Email!</p>

    <button @onclick="Logout">Logout</button>

    <p>Hier kommt später Tetris 🎮</p>
}

@code {
    private void GoToLogin() => Nav.NavigateTo("/login");

    private void Logout()
    {
        AuthState.SignOut();
        Nav.NavigateTo("/login");
    }
}
