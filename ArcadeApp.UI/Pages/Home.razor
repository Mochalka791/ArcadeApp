@page "/"
@inject ArcadeApp.UI.Services.AuthState AuthState
@inject NavigationManager Nav

<h3>Home</h3>

@if (!AuthState.IsAuthenticated)
{
    <p>Du bist nicht eingeloggt.</p>
    <button @onclick="GoToLogin">Zum Login</button>
}
else
{
    <p>Willkommen, @AuthState.CurrentUser?.Email</p>
    <button @onclick="Logout">Logout</button>
}

@code {
    private void GoToLogin() => Nav.NavigateTo("/login");

    private void Logout()
    {
        AuthState.SignOut();
        Nav.NavigateTo("/login");
    }
}
